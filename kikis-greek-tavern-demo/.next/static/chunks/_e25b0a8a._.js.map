{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 7, "column": 0}, "map": {"version":3,"sources":["file:///Users/miaelena/Desktop/code/my-projects/csci39538-restaurant/kikis-greek-tavern-demo/hooks/useCart.ts"],"sourcesContent":["// hooks/useCart.ts\nimport { useState, useEffect } from 'react';\n\nexport interface CartItem {\n    name: string;\n    price: number;\n    image: string;\n    quantity: number;\n}\n\nexport function useCart() {\n    const [cart, setCart] = useState<CartItem[]>([]);\n    const [total, setTotal] = useState(0);\n    \n    useEffect(() => {\n        // Load cart from localStorage\n        const savedCart = localStorage.getItem('cart');\n        if (savedCart) {\n            const parsedCart = JSON.parse(savedCart);\n            setCart(parsedCart);\n            calculateTotal(parsedCart);\n        }\n        \n        // Listen for storage events (if cart is updated in another tab)\n        const handleStorageChange = (e: StorageEvent) => {\n            if (e.key === 'cart') {\n                const newCart = e.newValue ? JSON.parse(e.newValue) : [];\n                setCart(newCart);\n                calculateTotal(newCart);\n            }\n        };\n        \n        window.addEventListener('storage', handleStorageChange);\n        \n        return () => {\n            window.removeEventListener('storage', handleStorageChange);\n        };\n    }, []);\n    \n    const calculateTotal = (cartItems: CartItem[]) => {\n        const newTotal = cartItems.reduce(\n            (sum, item) => sum + (item.price * item.quantity), \n            0\n        );\n        setTotal(newTotal);\n    };\n    \n    const addToCart = (item: Omit<CartItem, 'quantity'>) => {\n        const existingItemIndex = cart.findIndex(i => i.name === item.name);\n        \n        let newCart;\n        if (existingItemIndex !== -1) {\n            // Item exists, increment quantity\n            newCart = [...cart];\n            newCart[existingItemIndex].quantity += 1;\n        } else {\n            // Item doesn't exist, add new item\n            newCart = [...cart, { ...item, quantity: 1 }];\n        }\n        \n        setCart(newCart);\n        localStorage.setItem('cart', JSON.stringify(newCart));\n        calculateTotal(newCart);\n        \n        // Dispatch custom event for components to listen to\n        window.dispatchEvent(new Event('cartUpdated'));\n        \n        return newCart;\n    };\n    \n    const updateQuantity = (index: number, quantity: number) => {\n        if (quantity < 1) return cart;\n        \n        const newCart = [...cart];\n        newCart[index].quantity = quantity;\n        \n        setCart(newCart);\n        localStorage.setItem('cart', JSON.stringify(newCart));\n        calculateTotal(newCart);\n        \n        // Dispatch custom event\n        window.dispatchEvent(new Event('cartUpdated'));\n        \n        return newCart;\n    };\n    \n    const removeItem = (index: number) => {\n        const newCart = cart.filter((_, i) => i !== index);\n        \n        setCart(newCart);\n        localStorage.setItem('cart', JSON.stringify(newCart));\n        calculateTotal(newCart);\n        \n        // Dispatch custom event\n        window.dispatchEvent(new Event('cartUpdated'));\n        \n        return newCart;\n    };\n    \n    const clearCart = () => {\n        setCart([]);\n        localStorage.removeItem('cart');\n        setTotal(0);\n        \n        // Dispatch custom event\n        window.dispatchEvent(new Event('cartUpdated'));\n    };\n    \n    return {\n        cart,\n        total,\n        addToCart,\n        updateQuantity,\n        removeItem,\n        clearCart\n    };\n}"],"names":[],"mappings":"AAAA,mBAAmB;;;;AACnB;;;AASO,SAAS;;IACZ,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;6BAAE;YACN,8BAA8B;YAC9B,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,WAAW;gBACX,MAAM,aAAa,KAAK,KAAK,CAAC;gBAC9B,QAAQ;gBACR,eAAe;YACnB;YAEA,gEAAgE;YAChE,MAAM;yDAAsB,CAAC;oBACzB,IAAI,EAAE,GAAG,KAAK,QAAQ;wBAClB,MAAM,UAAU,EAAE,QAAQ,GAAG,KAAK,KAAK,CAAC,EAAE,QAAQ,IAAI,EAAE;wBACxD,QAAQ;wBACR,eAAe;oBACnB;gBACJ;;YAEA,OAAO,gBAAgB,CAAC,WAAW;YAEnC;qCAAO;oBACH,OAAO,mBAAmB,CAAC,WAAW;gBAC1C;;QACJ;4BAAG,EAAE;IAEL,MAAM,iBAAiB,CAAC;QACpB,MAAM,WAAW,UAAU,MAAM,CAC7B,CAAC,KAAK,OAAS,MAAO,KAAK,KAAK,GAAG,KAAK,QAAQ,EAChD;QAEJ,SAAS;IACb;IAEA,MAAM,YAAY,CAAC;QACf,MAAM,oBAAoB,KAAK,SAAS,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,KAAK,IAAI;QAElE,IAAI;QACJ,IAAI,sBAAsB,CAAC,GAAG;YAC1B,kCAAkC;YAClC,UAAU;mBAAI;aAAK;YACnB,OAAO,CAAC,kBAAkB,CAAC,QAAQ,IAAI;QAC3C,OAAO;YACH,mCAAmC;YACnC,UAAU;mBAAI;gBAAM;oBAAE,GAAG,IAAI;oBAAE,UAAU;gBAAE;aAAE;QACjD;QAEA,QAAQ;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC5C,eAAe;QAEf,oDAAoD;QACpD,OAAO,aAAa,CAAC,IAAI,MAAM;QAE/B,OAAO;IACX;IAEA,MAAM,iBAAiB,CAAC,OAAe;QACnC,IAAI,WAAW,GAAG,OAAO;QAEzB,MAAM,UAAU;eAAI;SAAK;QACzB,OAAO,CAAC,MAAM,CAAC,QAAQ,GAAG;QAE1B,QAAQ;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC5C,eAAe;QAEf,wBAAwB;QACxB,OAAO,aAAa,CAAC,IAAI,MAAM;QAE/B,OAAO;IACX;IAEA,MAAM,aAAa,CAAC;QAChB,MAAM,UAAU,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;QAE5C,QAAQ;QACR,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;QAC5C,eAAe;QAEf,wBAAwB;QACxB,OAAO,aAAa,CAAC,IAAI,MAAM;QAE/B,OAAO;IACX;IAEA,MAAM,YAAY;QACd,QAAQ,EAAE;QACV,aAAa,UAAU,CAAC;QACxB,SAAS;QAET,wBAAwB;QACxB,OAAO,aAAa,CAAC,IAAI,MAAM;IACnC;IAEA,OAAO;QACH;QACA;QACA;QACA;QACA;QACA;IACJ;AACJ;GA1GgB","debugId":null}},
    {"offset": {"line": 123, "column": 0}, "map": {"version":3,"sources":["file:///Users/miaelena/Desktop/code/my-projects/csci39538-restaurant/kikis-greek-tavern-demo/components/CartModal.tsx"],"sourcesContent":["// components/CartModal.tsx\n'use client';\nimport { useCart } from '../hooks/useCart';\nimport Image from 'next/image';\nimport { X } from 'react-feather';\n\ninterface CartModalProps {\n  isOpen: boolean;\n  onClose: () => void;\n}\n\nexport default function CartModal({ isOpen, onClose }: CartModalProps) {\n  const { cart, total, updateQuantity, removeItem, clearCart } = useCart();\n\n  if (!isOpen) return null;\n\n  return (\n    <>\n      {/* Modal Backdrop */}\n      <div \n        className=\"fixed inset-0 bg-opacity-50 z-40\"\n        onClick={onClose}\n      />\n      \n      {/* Modal Content */}\n      <div className=\"fixed right-0 top-0 h-full w-full max-w-md bg-white z-50 shadow-xl overflow-y-auto\">\n        <div className=\"p-6\">\n          <div className=\"flex justify-between items-center mb-6\">\n            <h2 className=\"text-2xl font-bold\">Your Cart</h2>\n            <button \n              onClick={onClose}\n              className=\"p-2 rounded-full hover:bg-gray-100 transition-colors\"\n            >\n              <X size={24} />\n            </button>\n          </div>\n\n          {cart.length === 0 ? (\n            <div className=\"text-center py-12\">\n              <p className=\"text-xl mb-6\">Your cart is empty</p>\n              <button \n                onClick={onClose}\n                className=\"bg-orange-500 text-white px-6 py-3 rounded-md hover:bg-orange-600 transition-colors\"\n              >\n                Browse Menu\n              </button>\n            </div>\n          ) : (\n            <>\n              <div className=\"space-y-4 mb-6\">\n                {cart.map((item, index) => (\n                  <div key={index} className=\"flex items-center border-b border-gray-200 pb-4\">\n                    <div className=\"relative h-16 w-16 flex-shrink-0\">\n                      <Image\n                        src={item.image}\n                        alt={item.name}\n                        fill\n                        className=\"object-cover rounded-md\"\n                      />\n                    </div>\n                    <div className=\"ml-4 flex-grow\">\n                      <h3 className=\"font-bold\">{item.name}</h3>\n                      <p className=\"text-gray-600\">${item.price.toFixed(2)}</p>\n                    </div>\n                    <div className=\"flex items-center\">\n                      <button \n                        className=\"bg-gray-200 px-2 py-1 rounded-l-md hover:bg-gray-300 transition-colors\"\n                        onClick={() => updateQuantity(index, item.quantity - 1)}\n                      >\n                        -\n                      </button>\n                      <span className=\"bg-gray-100 px-3 py-1\">{item.quantity}</span>\n                      <button \n                        className=\"bg-gray-200 px-2 py-1 rounded-r-md hover:bg-gray-300 transition-colors\"\n                        onClick={() => updateQuantity(index, item.quantity + 1)}\n                      >\n                        +\n                      </button>\n                    </div>\n                    <button \n                      className=\"ml-4 text-red-500 hover:text-red-700 transition-colors\"\n                      onClick={() => removeItem(index)}\n                    >\n                      <X size={16} />\n                    </button>\n                  </div>\n                ))}\n              </div>\n\n              <div className=\"border-t border-gray-200 pt-4\">\n                <div className=\"flex justify-between mb-2\">\n                  <span>Subtotal:</span>\n                  <span>${total.toFixed(2)}</span>\n                </div>\n                <div className=\"flex justify-between mb-4\">\n                  <span>Delivery:</span>\n                  <span>$5.00</span>\n                </div>\n                <div className=\"flex justify-between font-bold text-lg border-t border-gray-200 pt-4\">\n                  <span>Total:</span>\n                  <span>${(total + 5).toFixed(2)}</span>\n                </div>\n\n                <div className=\"grid grid-cols-2 gap-4 mt-6\">\n                  <button \n                    className=\"bg-orange-500 text-white py-3 rounded-md hover:bg-orange-600 transition-colors\"\n                  >\n                    Checkout\n                  </button>\n                  <button \n                    onClick={clearCart} \n                    className=\"border border-red-500 text-red-500 py-3 rounded-md hover:bg-red-50 transition-colors\"\n                  >\n                    Clear Cart\n                  </button>\n                </div>\n              </div>\n            </>\n          )}\n        </div>\n      </div>\n    </>\n  );\n}"],"names":[],"mappings":"AAAA,2BAA2B;;;;;AAE3B;AACA;AACA;;;AAHA;;;;AAUe,SAAS,UAAU,EAAE,MAAM,EAAE,OAAO,EAAkB;;IACnE,MAAM,EAAE,IAAI,EAAE,KAAK,EAAE,cAAc,EAAE,UAAU,EAAE,SAAS,EAAE,GAAG,CAAA,GAAA,mHAAA,CAAA,UAAO,AAAD;IAErE,IAAI,CAAC,QAAQ,OAAO;IAEpB,qBACE;;0BAEE,6LAAC;gBACC,WAAU;gBACV,SAAS;;;;;;0BAIX,6LAAC;gBAAI,WAAU;0BACb,cAAA,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAG,WAAU;8CAAqB;;;;;;8CACnC,6LAAC;oCACC,SAAS;oCACT,WAAU;8CAEV,cAAA,6LAAC,yLAAA,CAAA,IAAC;wCAAC,MAAM;;;;;;;;;;;;;;;;;wBAIZ,KAAK,MAAM,KAAK,kBACf,6LAAC;4BAAI,WAAU;;8CACb,6LAAC;oCAAE,WAAU;8CAAe;;;;;;8CAC5B,6LAAC;oCACC,SAAS;oCACT,WAAU;8CACX;;;;;;;;;;;iDAKH;;8CACE,6LAAC;oCAAI,WAAU;8CACZ,KAAK,GAAG,CAAC,CAAC,MAAM,sBACf,6LAAC;4CAAgB,WAAU;;8DACzB,6LAAC;oDAAI,WAAU;8DACb,cAAA,6LAAC,gIAAA,CAAA,UAAK;wDACJ,KAAK,KAAK,KAAK;wDACf,KAAK,KAAK,IAAI;wDACd,IAAI;wDACJ,WAAU;;;;;;;;;;;8DAGd,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DAAG,WAAU;sEAAa,KAAK,IAAI;;;;;;sEACpC,6LAAC;4DAAE,WAAU;;gEAAgB;gEAAE,KAAK,KAAK,CAAC,OAAO,CAAC;;;;;;;;;;;;;8DAEpD,6LAAC;oDAAI,WAAU;;sEACb,6LAAC;4DACC,WAAU;4DACV,SAAS,IAAM,eAAe,OAAO,KAAK,QAAQ,GAAG;sEACtD;;;;;;sEAGD,6LAAC;4DAAK,WAAU;sEAAyB,KAAK,QAAQ;;;;;;sEACtD,6LAAC;4DACC,WAAU;4DACV,SAAS,IAAM,eAAe,OAAO,KAAK,QAAQ,GAAG;sEACtD;;;;;;;;;;;;8DAIH,6LAAC;oDACC,WAAU;oDACV,SAAS,IAAM,WAAW;8DAE1B,cAAA,6LAAC,yLAAA,CAAA,IAAC;wDAAC,MAAM;;;;;;;;;;;;2CAhCH;;;;;;;;;;8CAsCd,6LAAC;oCAAI,WAAU;;sDACb,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;8DAAK;;;;;;8DACN,6LAAC;;wDAAK;wDAAE,MAAM,OAAO,CAAC;;;;;;;;;;;;;sDAExB,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;8DAAK;;;;;;8DACN,6LAAC;8DAAK;;;;;;;;;;;;sDAER,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;8DAAK;;;;;;8DACN,6LAAC;;wDAAK;wDAAE,CAAC,QAAQ,CAAC,EAAE,OAAO,CAAC;;;;;;;;;;;;;sDAG9B,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;oDACC,WAAU;8DACX;;;;;;8DAGD,6LAAC;oDACC,SAAS;oDACT,WAAU;8DACX;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAWnB;GAhHwB;;QACyC,mHAAA,CAAA,UAAO;;;KADhD","debugId":null}},
    {"offset": {"line": 469, "column": 0}, "map": {"version":3,"sources":["file:///Users/miaelena/Desktop/code/my-projects/csci39538-restaurant/kikis-greek-tavern-demo/components/Navbar.tsx"],"sourcesContent":["// components/Navbar.tsx\n'use client'; \nimport { useState } from 'react';\nimport { ShoppingCart, Menu, X } from 'react-feather';\nimport Link from 'next/link';\nimport { useCart } from '../hooks/useCart';\nimport CartModal from './CartModal';\n\nexport default function Navbar() { \n  const [isOpen, setIsOpen] = useState(false);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const { cart } = useCart();\n  \n  const cartItemCount = cart.reduce((count, item) => count + item.quantity, 0);\n\n  const toggleMenu = () => {\n    setIsOpen(!isOpen);\n  };\n\n  const toggleCart = () => {\n    setIsCartOpen(!isCartOpen);\n  };\n\n  return (\n    <>\n      <nav className=\"bg-gray-800 text-white p-4\">\n        <div className='container mx-auto flex justify-between items-center'>\n          <Link href=\"/\" className=\"text-2xl font-bold\">\n            Kiki's Greek Tavern                \n          </Link>\n          <button\n            onClick={toggleMenu}\n            className='md:hidden focus:outline-none'\n          >\n            {isOpen ? <X size={24} /> : <Menu size={24} />}\n          </button>\n          <ul className='hidden md:flex space-x-4 items-center'>\n            <li>\n              <Link href='/' className=\"hover:text-gray-300 transition-colors\">Home</Link>\n            </li>\n            <li>\n              <Link href='/menu' className=\"hover:text-gray-300 transition-colors\">Menu</Link>\n            </li>\n            <li>\n              <Link href='/gallery' className=\"hover:text-gray-300 transition-colors\">Gallery</Link>\n            </li>\n            <li>\n              <Link href='/contact' className=\"hover:text-gray-300 transition-colors\">Contact</Link>\n            </li>\n            <li>\n              <Link href='/about' className=\"hover:text-gray-300 transition-colors\">About</Link>\n            </li>\n            <li>\n              <button \n                onClick={toggleCart} \n                className=\"nav-cart-icon relative hover:text-gray-300 transition-colors\"\n              >\n                <ShoppingCart />\n                {cartItemCount > 0 && (\n                  <span \n                    className=\"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\"\n                  >\n                    {cartItemCount}\n                  </span>\n                )}\n              </button>\n            </li>\n          </ul>\n        </div>\n        <div className={`${isOpen ? 'block' : 'hidden'} bg-gray-800 mt-4`}>\n          <ul className=\"flex flex-col space-y-4 p-4\">\n            <li>\n              <Link href=\"/\" className=\"hover:text-gray-400 transition-colors\" onClick={toggleMenu}>\n                Home\n              </Link>\n            </li>\n            <li>\n              <Link href=\"/menu\" className=\"hover:text-gray-400 transition-colors\" onClick={toggleMenu}>\n                Menu\n              </Link>\n            </li>\n            <li>\n              <Link href=\"/gallery\" className=\"hover:text-gray-400 transition-colors\" onClick={toggleMenu}>\n                Gallery\n              </Link>\n            </li>\n            <li>\n              <Link href=\"/contact\" className=\"hover:text-gray-400 transition-colors\" onClick={toggleMenu}>\n                Contact\n              </Link>\n            </li>\n            <li>\n              <button\n                onClick={() => {\n                  toggleMenu();\n                  toggleCart();\n                }}\n                className=\"relative hover:text-gray-400 transition-colors\"\n              >\n                <ShoppingCart />\n                {cartItemCount > 0 && (\n                  <span \n                    className=\"absolute -top-2 -right-2 bg-orange-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center\"\n                  >\n                    {cartItemCount}\n                  </span>\n                )}\n              </button>\n            </li>   \n          </ul>\n        </div>\n      </nav>\n\n      <CartModal isOpen={isCartOpen} onClose={() => setIsCartOpen(false)} />\n    </>\n  );\n}"],"names":[],"mappings":"AAAA,wBAAwB;;;;;AAExB;AACA;AAAA;AAAA;AACA;AACA;AACA;;;AALA;;;;;;AAOe,SAAS;;IACtB,MAAM,CAAC,QAAQ,UAAU,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACrC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,EAAE,IAAI,EAAE,GAAG,CAAA,GAAA,mHAAA,CAAA,UAAO,AAAD;IAEvB,MAAM,gBAAgB,KAAK,MAAM,CAAC,CAAC,OAAO,OAAS,QAAQ,KAAK,QAAQ,EAAE;IAE1E,MAAM,aAAa;QACjB,UAAU,CAAC;IACb;IAEA,MAAM,aAAa;QACjB,cAAc,CAAC;IACjB;IAEA,qBACE;;0BACE,6LAAC;gBAAI,WAAU;;kCACb,6LAAC;wBAAI,WAAU;;0CACb,6LAAC,+JAAA,CAAA,UAAI;gCAAC,MAAK;gCAAI,WAAU;0CAAqB;;;;;;0CAG9C,6LAAC;gCACC,SAAS;gCACT,WAAU;0CAET,uBAAS,6LAAC,yLAAA,CAAA,IAAC;oCAAC,MAAM;;;;;yDAAS,6LAAC,+LAAA,CAAA,OAAI;oCAAC,MAAM;;;;;;;;;;;0CAE1C,6LAAC;gCAAG,WAAU;;kDACZ,6LAAC;kDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;4CAAI,WAAU;sDAAwC;;;;;;;;;;;kDAEnE,6LAAC;kDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;4CAAQ,WAAU;sDAAwC;;;;;;;;;;;kDAEvE,6LAAC;kDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;4CAAW,WAAU;sDAAwC;;;;;;;;;;;kDAE1E,6LAAC;kDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;4CAAW,WAAU;sDAAwC;;;;;;;;;;;kDAE1E,6LAAC;kDACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;4CAAC,MAAK;4CAAS,WAAU;sDAAwC;;;;;;;;;;;kDAExE,6LAAC;kDACC,cAAA,6LAAC;4CACC,SAAS;4CACT,WAAU;;8DAEV,6LAAC,mNAAA,CAAA,eAAY;;;;;gDACZ,gBAAgB,mBACf,6LAAC;oDACC,WAAU;8DAET;;;;;;;;;;;;;;;;;;;;;;;;;;;;;kCAOb,6LAAC;wBAAI,WAAW,GAAG,SAAS,UAAU,SAAS,iBAAiB,CAAC;kCAC/D,cAAA,6LAAC;4BAAG,WAAU;;8CACZ,6LAAC;8CACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAI,WAAU;wCAAwC,SAAS;kDAAY;;;;;;;;;;;8CAIxF,6LAAC;8CACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAQ,WAAU;wCAAwC,SAAS;kDAAY;;;;;;;;;;;8CAI5F,6LAAC;8CACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAW,WAAU;wCAAwC,SAAS;kDAAY;;;;;;;;;;;8CAI/F,6LAAC;8CACC,cAAA,6LAAC,+JAAA,CAAA,UAAI;wCAAC,MAAK;wCAAW,WAAU;wCAAwC,SAAS;kDAAY;;;;;;;;;;;8CAI/F,6LAAC;8CACC,cAAA,6LAAC;wCACC,SAAS;4CACP;4CACA;wCACF;wCACA,WAAU;;0DAEV,6LAAC,mNAAA,CAAA,eAAY;;;;;4CACZ,gBAAgB,mBACf,6LAAC;gDACC,WAAU;0DAET;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;0BASf,6LAAC,2HAAA,CAAA,UAAS;gBAAC,QAAQ;gBAAY,SAAS,IAAM,cAAc;;;;;;;;AAGlE;GA5GwB;;QAGL,mHAAA,CAAA,UAAO;;;KAHF","debugId":null}},
    {"offset": {"line": 804, "column": 0}, "map": {"version":3,"sources":["file:///Users/miaelena/Desktop/code/my-projects/csci39538-restaurant/kikis-greek-tavern-demo/context/CartContext.tsx"],"sourcesContent":["// contexts/CartContext.tsx\n'use client';\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n\nexport interface CartItem {\n  name: string;\n  price: number;\n  image: string;\n  quantity: number;\n}\n\ninterface CartContextType {\n  cart: CartItem[];\n  total: number;\n  addToCart: (item: Omit<CartItem, 'quantity'>) => void;\n  updateQuantity: (index: number, quantity: number) => void;\n  removeItem: (index: number) => void;\n  clearCart: () => void;\n  isCartOpen: boolean;\n  setIsCartOpen: (isOpen: boolean) => void;\n}\n\nconst CartContext = createContext<CartContextType | undefined>(undefined);\n\nexport function CartProvider({ children }: { children: ReactNode }) {\n  const [cart, setCart] = useState<CartItem[]>([]);\n  const [total, setTotal] = useState(0);\n  const [isCartOpen, setIsCartOpen] = useState(false);\n  const [isInitialized, setIsInitialized] = useState(false);\n\n  // Initialize cart from localStorage\n  useEffect(() => {\n    const savedCart = localStorage.getItem('cart');\n    if (savedCart) {\n      try {\n        const parsedCart = JSON.parse(savedCart);\n        setCart(parsedCart);\n        calculateTotal(parsedCart);\n      } catch (error) {\n        console.error('Error parsing cart from localStorage:', error);\n        localStorage.removeItem('cart');\n      }\n    }\n    setIsInitialized(true);\n  }, []);\n\n  // Update localStorage whenever cart changes\n  useEffect(() => {\n    if (isInitialized) {\n      localStorage.setItem('cart', JSON.stringify(cart));\n    }\n  }, [cart, isInitialized]);\n\n  const calculateTotal = (items: CartItem[]) => {\n    const newTotal = items.reduce(\n      (sum, item) => sum + (item.price * item.quantity),\n      0\n    );\n    setTotal(newTotal);\n  };\n\n  const addToCart = (item: Omit<CartItem, 'quantity'>) => {\n    const existingItemIndex = cart.findIndex(i => i.name === item.name);\n    \n    let newCart;\n    if (existingItemIndex !== -1) {\n      // Item exists, increment quantity\n      newCart = [...cart];\n      newCart[existingItemIndex].quantity += 1;\n    } else {\n      // Item doesn't exist, add new item\n      newCart = [...cart, { ...item, quantity: 1 }];\n    }\n    \n    setCart(newCart);\n    calculateTotal(newCart);\n  };\n\n  const updateQuantity = (index: number, quantity: number) => {\n    if (quantity < 1) {\n      // Remove item if quantity is less than 1\n      removeItem(index);\n      return;\n    }\n    \n    const newCart = [...cart];\n    newCart[index].quantity = quantity;\n    \n    setCart(newCart);\n    calculateTotal(newCart);\n  };\n\n  const removeItem = (index: number) => {\n    const newCart = cart.filter((_, i) => i !== index);\n    \n    setCart(newCart);\n    calculateTotal(newCart);\n  };\n\n  const clearCart = () => {\n    setCart([]);\n    setTotal(0);\n  };\n\n  const value = {\n    cart,\n    total,\n    addToCart,\n    updateQuantity,\n    removeItem,\n    clearCart,\n    isCartOpen,\n    setIsCartOpen\n  };\n\n  return <CartContext.Provider value={value}>{children}</CartContext.Provider>;\n}\n\nexport function useCart() {\n  const context = useContext(CartContext);\n  if (context === undefined) {\n    throw new Error('useCart must be used within a CartProvider');\n  }\n  return context;\n}"],"names":[],"mappings":"AAAA,2BAA2B;;;;;;AAE3B;;;AADA;;AAqBA,MAAM,4BAAc,CAAA,GAAA,6JAAA,CAAA,gBAAa,AAAD,EAA+B;AAExD,SAAS,aAAa,EAAE,QAAQ,EAA2B;;IAChE,MAAM,CAAC,MAAM,QAAQ,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAc,EAAE;IAC/C,MAAM,CAAC,OAAO,SAAS,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IACnC,MAAM,CAAC,YAAY,cAAc,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAC7C,MAAM,CAAC,eAAe,iBAAiB,GAAG,CAAA,GAAA,6JAAA,CAAA,WAAQ,AAAD,EAAE;IAEnD,oCAAoC;IACpC,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,MAAM,YAAY,aAAa,OAAO,CAAC;YACvC,IAAI,WAAW;gBACb,IAAI;oBACF,MAAM,aAAa,KAAK,KAAK,CAAC;oBAC9B,QAAQ;oBACR,eAAe;gBACjB,EAAE,OAAO,OAAO;oBACd,QAAQ,KAAK,CAAC,yCAAyC;oBACvD,aAAa,UAAU,CAAC;gBAC1B;YACF;YACA,iBAAiB;QACnB;iCAAG,EAAE;IAEL,4CAA4C;IAC5C,CAAA,GAAA,6JAAA,CAAA,YAAS,AAAD;kCAAE;YACR,IAAI,eAAe;gBACjB,aAAa,OAAO,CAAC,QAAQ,KAAK,SAAS,CAAC;YAC9C;QACF;iCAAG;QAAC;QAAM;KAAc;IAExB,MAAM,iBAAiB,CAAC;QACtB,MAAM,WAAW,MAAM,MAAM,CAC3B,CAAC,KAAK,OAAS,MAAO,KAAK,KAAK,GAAG,KAAK,QAAQ,EAChD;QAEF,SAAS;IACX;IAEA,MAAM,YAAY,CAAC;QACjB,MAAM,oBAAoB,KAAK,SAAS,CAAC,CAAA,IAAK,EAAE,IAAI,KAAK,KAAK,IAAI;QAElE,IAAI;QACJ,IAAI,sBAAsB,CAAC,GAAG;YAC5B,kCAAkC;YAClC,UAAU;mBAAI;aAAK;YACnB,OAAO,CAAC,kBAAkB,CAAC,QAAQ,IAAI;QACzC,OAAO;YACL,mCAAmC;YACnC,UAAU;mBAAI;gBAAM;oBAAE,GAAG,IAAI;oBAAE,UAAU;gBAAE;aAAE;QAC/C;QAEA,QAAQ;QACR,eAAe;IACjB;IAEA,MAAM,iBAAiB,CAAC,OAAe;QACrC,IAAI,WAAW,GAAG;YAChB,yCAAyC;YACzC,WAAW;YACX;QACF;QAEA,MAAM,UAAU;eAAI;SAAK;QACzB,OAAO,CAAC,MAAM,CAAC,QAAQ,GAAG;QAE1B,QAAQ;QACR,eAAe;IACjB;IAEA,MAAM,aAAa,CAAC;QAClB,MAAM,UAAU,KAAK,MAAM,CAAC,CAAC,GAAG,IAAM,MAAM;QAE5C,QAAQ;QACR,eAAe;IACjB;IAEA,MAAM,YAAY;QAChB,QAAQ,EAAE;QACV,SAAS;IACX;IAEA,MAAM,QAAQ;QACZ;QACA;QACA;QACA;QACA;QACA;QACA;QACA;IACF;IAEA,qBAAO,6LAAC,YAAY,QAAQ;QAAC,OAAO;kBAAQ;;;;;;AAC9C;GA5FgB;KAAA;AA8FT,SAAS;;IACd,MAAM,UAAU,CAAA,GAAA,6JAAA,CAAA,aAAU,AAAD,EAAE;IAC3B,IAAI,YAAY,WAAW;QACzB,MAAM,IAAI,MAAM;IAClB;IACA,OAAO;AACT;IANgB","debugId":null}}]
}